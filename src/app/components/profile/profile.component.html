<div class="container" *ngIf="user$ | async as user">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-8 col-md-6 col-lg-4 col-xl-4 col-xxl-4">
            <!-- Start: Registration Form -->
            <div class="card" style="background: rgb(39,38,46);border-radius: 16px;">
                <div class="card-body text-center d-flex flex-column align-items-center" style="border-radius: 16px;">
                <h3>Profile</h3>
                <img [src]="user.photoURL ?? 'assets/images/defaultImage.jpg'" alt="profile-image" width="120" height="120" style="border-radius: 60px;">
                <button class="btn btn-warning mb-2 mt-1" (click)="inputFile.click()">edit photo</button>
                <input type="file" (change)="uploadImage($event, user)" hidden #inputFile>

                <!-- create a form with fields and angular validations : displayName,email, firstName, lastName, phoneNumber -->
                <form [formGroup]="profileForm" (ngSubmit)="saveProfile(profileForm.value)">
                  <div class="form-group mb-2">
                    <!-- displayName -->
                    <!-- <label for="username">username</label> -->
                    <input type="text" class="form-control" id="username" formControlName="displayName" placeholder="Enter username">

                  <div *ngIf="displayName?.touched && displayName?.invalid">
                    <small class="text-danger" *ngIf="displayName?.errors?.['required']">username is required</small>
                    <small class="text-danger" *ngIf="displayName?.errors?.['minlength']">username must be at least 3 characters</small>
                  </div>
                  </div>
                  <!-- email -->
                  <!-- <div class="form-group mb-2">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter email">

                  <div *ngIf="email?.touched && email?.invalid">
                    <small class="text-danger" *ngIf="email?.errors?.['required']">Email is required</small>
                    <small class="text-danger" *ngIf="email?.errors?.['email']">Email is invalid</small>
                  </div>
                  </div> -->

                  <!-- firstName -->
                  <div class="form-group mb-2">
                    <!-- <label for="firstName">First Name</label> -->
                    <input type="text" class="form-control" id="firstName" formControlName="firstName" placeholder="Enter first name">

                  <div *ngIf="firstName?.touched && firstName?.invalid">
                    <small class="text-danger" *ngIf="firstName?.errors?.['required']">First name is required</small>
                    <small class="text-danger" *ngIf="firstName?.errors?.['minlength']">First name must be at least 3 characters</small>
                  </div>
                  </div>
                  <!-- lastName -->
                  <div class="form-group mb-2">
                    <!-- <label for="lastName">Last Name</label> -->
                    <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Enter last name">

                  <div *ngIf="lastName?.touched && lastName?.invalid">
                    <small class="text-danger" *ngIf="lastName?.errors?.['required']">Last name is required</small>
                    <small class="text-danger" *ngIf="lastName?.errors?.['minlength']">Last name must be at least 3 characters</small>
                  </div>
                  </div>

                  <!-- phoneNumber -->
                  <div class="form-group mb-2">
                    <!-- <label for="phoneNumber">Phone Number</label> -->
                    <input type="tel" class="form-control" id="phoneNumber" formControlName="phoneNumber" placeholder="Enter phone number">

                    <div *ngIf="phoneNumber?.touched && phoneNumber?.invalid">
                    <small class="text-danger" *ngIf="phoneNumber?.errors?.['required']">Phone number is required</small>
                    <small class="text-danger" *ngIf="phoneNumber?.errors?.['minlength']">Phone number must be at least 10 characters</small>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary mb-2" [disabled]="profileForm.invalid">Save</button>
                </form>
            </div>
        </div>
    </div>
</div>

